@using JunoBank.Web.Services

<div class="child-selector">
    @foreach (var child in Children)
    {
        <MudButton Variant="Variant.Outlined"
                   Color="Color.Primary"
                   Size="Size.Large"
                   Class="child-button"
                   OnClick="@(() => SelectChild(child))">
            <div class="child-avatar">@child.Name[0]</div>
            <span class="child-name">@child.Name</span>
        </MudButton>
    }
</div>

<style>
    .child-selector {
        display: flex;
        flex-direction: column;
        gap: 1rem;
        max-width: 280px;
        margin: 0 auto;
    }

    .child-button {
        display: flex;
        align-items: center;
        gap: 1rem;
        padding: 1rem 1.5rem;
        justify-content: flex-start;
    }

    .child-avatar {
        width: 48px;
        height: 48px;
        border-radius: 50%;
        background: linear-gradient(135deg, var(--mud-palette-primary) 0%, var(--mud-palette-secondary) 100%);
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 1.5rem;
        font-weight: bold;
        color: white;
    }

    .child-name {
        font-size: 1.25rem;
        font-weight: 500;
    }
</style>

@code {
    [Parameter] public List<ChildLoginInfo> Children { get; set; } = new();
    [Parameter] public EventCallback<ChildLoginInfo> OnChildSelected { get; set; }

    private async Task SelectChild(ChildLoginInfo child)
    {
        await OnChildSelected.InvokeAsync(child);
    }
}
