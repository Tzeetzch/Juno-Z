<MudTextField T="string"
              Value="Password"
              ValueChanged="PasswordChanged"
              Label="@PasswordLabel"
              Variant="Variant.Outlined"
              InputType="@(_showPassword ? InputType.Text : InputType.Password)"
              Adornment="Adornment.End"
              AdornmentIcon="@(_showPassword ? Icons.Material.Filled.VisibilityOff : Icons.Material.Filled.Visibility)"
              OnAdornmentClick="ToggleVisibility"
              Required="Required"
              HelperText="At least 8 characters"
              Class="mb-4"
              FullWidth="true"
              Disabled="Disabled" />

<MudTextField T="string"
              Value="ConfirmPassword"
              ValueChanged="ConfirmPasswordChanged"
              Label="Confirm Password"
              Variant="Variant.Outlined"
              InputType="@(_showPassword ? InputType.Text : InputType.Password)"
              Required="Required"
              Class="mb-6"
              FullWidth="true"
              Disabled="Disabled" />

@code {
    [Parameter] public string Password { get; set; } = string.Empty;
    [Parameter] public EventCallback<string> PasswordChanged { get; set; }
    [Parameter] public string ConfirmPassword { get; set; } = string.Empty;
    [Parameter] public EventCallback<string> ConfirmPasswordChanged { get; set; }
    [Parameter] public string PasswordLabel { get; set; } = "Password";
    [Parameter] public bool Required { get; set; }
    [Parameter] public bool Disabled { get; set; }

    private bool _showPassword;

    private void ToggleVisibility() => _showPassword = !_showPassword;
}
